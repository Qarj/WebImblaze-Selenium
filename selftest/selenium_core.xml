<testcases repeat="1">

<!--
Self test master file. All test steps in this file should pass.
-->

<testvar varname="feature">selenium_core</testvar>

<!-- Windows Manual Start of Selenium Server Example (Info only - WebInject will do this automatically)

wmic process call create 'cmd /c java -Dwebdriver.chrome.driver="C:\selenium\chromedriver.exe" -jar C:\selenium\selenium-server-standalone-2.53.1.jar -port 9988 -trustAllSSLCertificates'

-->

<!-- Linux Manual Start of Selenium Server Example (Info only - WebInject will do this automatically)

(gnome-terminal -e "java -Dwebdriver.chrome.driver=$HOME/selenium/chromedriver -jar $HOME/selenium/selenium-server-standalone-2.53.1.jar -port 9988 -trustAllSSLCertificates" &)

-->

<!-- Shutdown Selenium Server

http://localhost:9988/selenium-server/driver/?cmd=shutDownSeleniumServer

-->

<!-- Windows and Linux Notes

command1 will only work on Windows, on Linux will give an error that will be ignored
command2 perl $PWD/webinject.pl will only work on Linux / Mac

command will run on both Windows and Linux

-->

<case
    varPROJECT="./../WebInject-Selenium/"
    id="100"
    description1="Run WebInject using Selenium Remote Control Server running under Java"
    method="cmd"
    command1="webinject.pl -o {PROJECT}selftest\output\${feature}server_chrome_sub --driver chrome --chromedriver-binary C:\selenium\chromedriver.exe --selenium-binary C:\selenium\selenium-server-standalone-3.11.0.jar {PROJECT}selftest\substeps\${feature}.xml"
    command2="perl $PWD/webinject.pl -o {PROJECT}selftest\output\${feature}server_chrome_sub --driver chrome --chromedriver-binary $HOME/selenium/chromedriver --selenium-binary $HOME/selenium/selenium-server-standalone-3.11.0.jar {PROJECT}selftest\substeps\${feature}.xml"
    verifypositive1="AspNetCore.Antiforgery"
    verifypositive2="Test Cases Failed: 0"
    verifypositive3="Started Selenium Remote Control Standalone server on port"
/>

<case
    id="200"
    description1="Run WebInject pointing to the ChromeDriver binary - does not require Selenium Server or java"
    method="cmd"
    command1="webinject.pl -o {PROJECT}selftest\output\${feature}_chromedriver_standalone_sub --driver chromedriver --chromedriver-binary C:\selenium\chromedriver.exe {PROJECT}selftest\substeps\${feature}.xml"
    command2="perl $PWD/webinject.pl -o {PROJECT}selftest\output\${feature}_chromedriver_standalone_sub --driver chromedriver --chromedriver-binary $HOME/selenium/chromedriver {PROJECT}selftest\substeps\${feature}.xml"
    verifypositive1="AspNetCore.Antiforgery"
    verifypositive2="Test Cases Failed: 0"
    verifypositive3="Starting ChromeDriver on port"
/>

</testcases>
